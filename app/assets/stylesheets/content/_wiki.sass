//-- copyright
// OpenProject is a project management system.
// Copyright (C) 2012-2015 the OpenProject Foundation (OPF)
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License version 3.
//
// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:
// Copyright (C) 2006-2013 Jean-Philippe Lang
// Copyright (C) 2010-2013 the ChiliProject Team
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License
// as published by the Free Software Foundation; either version 2
// of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program; if not, write to the Free Software
// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
//
// See doc/COPYRIGHT.rdoc for more details.
//++

.wiki
  font-size: $wiki-default-font-size

  // Wiki paragraph styling

  p
    font-family:    $paragraph-font-family
    font-weight:    $paragraph-font-weight
    font-size:      $paragraph-font-size
    line-height:    $paragraph-line-height
    margin-bottom:  $paragraph-margin-bottom
    text-rendering: $paragraph-text-rendering

  // Wiki links styling

  a.wiki-anchor
    display: none
    margin-left: 6px
    text-decoration: none
    &:hover
      color: #aaa !important
      text-decoration: none

  h1:hover, h2:hover, h3:hover
    a.wiki-anchor
      display: inline
      color: #ddd

  // Wiki heading styling

  h1, h2, h3, h4, h5, h6
    font-family:    $header-font-family
    font-weight:    bold
    font-style:     $header-font-style
    color:          $header-font-color
    text-rendering: $header-text-rendering
    margin-top:     $header-top-margin
    margin-bottom:  $header-bottom-margin
    line-height:    $header-line-height

  h1
    font-size:      $h1-font-size - $h1-font-reduction
    margin-top:     0.5rem
    border-bottom:  1px solid lighten(#555, 50%)
  h2
    font-size:      $h2-font-size - $h2-font-reduction
  h3
    font-size:      $h3-font-size - $h3-font-reduction
  h4
    font-size:      $h4-font-size - $h4-font-reduction
  h5
    font-size:      $h5-font-size - $h5-font-reduction
  h6
    font-size:      $h6-font-size - $h6-font-reduction

  @include breakpoint(medium)
    h1
      font-size:    $h1-font-size
    h2
      font-size:    $h2-font-size
    h3
      font-size:    $h3-font-size
    h4
      font-size:    $h4-font-size
    h5
      font-size:    $h5-font-size
    h6
      font-size:    $h6-font-size

  // Wiki typography defaults

  em,
  i
    font-style:   italic
    line-height:  inherit

  strong,
  b
    font-weight:  $font-weight-bold
    line-height:  inherit

  small
    font-size:    $small-font-size
    color:        $small-font-color
    line-height:  inherit

  // Wiki list styling

  ul,
  ol,
  dl
    font-size:            $list-font-size
    line-height:          $list-line-height
    margin-bottom:        $list-margin-bottom
    list-style-position:  outside
    font-family:          $list-font-family

  ul,
  ol
    margin-left: $list-side-margin
    li
      ul,
      ol
        margin-left: $list-nested-margin
        margin-bottom: 0

  ol li
    list-style-type: decimal

  ul li
    list-style-type: disc

    a:link, a:hover, a:active, a:visited
      color: #555

  // Wiki table of contents

  ul.toc
    margin-bottom: 12px
    margin-right: 12px
    margin-left: 0
    display: table
    &.right
      float: right
      margin-left: 12px
      margin-right: 0
      width: auto
    &.left
      float: left
      margin-right: 12px
      margin-left: 0
      width: auto
    a
      font-weight: normal
      padding-left: 16px
    li
      font-size: $wiki-toc-ul-font-size
      list-style-type: none

  // Wiki table styling

  table
    border-collapse: collapse
    margin-bottom: 1em

  table, td, th
    border: 1px solid #ccc

    tr
      vertical-align: top
    td
      padding: 0.625em
      line-height: 1.5
    thead
      td
        font-weight: bold

  // Wiki misc

  .external
    background-position: 0% 60%
    background-repeat: no-repeat
    padding-left: 12px
    background-image: image-url('external.png')

  img
    vertical-align: middle

  pre
    margin: 1em 1em 1em 1.6em
    padding: 2px 2px 2px 0
    background-color: #fafafa
    border: 1px solid #dadada
    width: auto
    overflow-x: auto
    overflow-y: hidden

  p, span
    &.see-also, &.caution, &.important, &.info, &.tip, &.note
      display: block
      margin-top: .5em
      margin-bottom: .5em
      padding: 4px 4px 4px 48px
      min-height: 33px

    &.smallsee-also, &.smallcaution, &.smallimportant, &.smallinfo, &.smalltip, &.smallnote
      display: block
      margin-top: .5em
      margin-bottom: .5em
      padding: 4px 4px 4px 34px
      min-height: 24px

    &.see-also
      background: image-url('wiki_styles/see-also.png') 4px 4px no-repeat #f5fffa
      border: 1px solid #AAB1AD

    &.smallsee-also
      background: image-url('wiki_styles/see-also_small.png') 4px 4px no-repeat #f5fffa
      border: 1px solid #AAB1AD

    &.caution
      background: image-url('wiki_styles/caution.png') 4px 6px no-repeat #f5fffa
      border: 1px solid #AAB1AD

    &.smallcaution
      background: image-url('wiki_styles/caution_small.png') 4px 4px no-repeat #f5fffa
      border: 1px solid #AAB1AD

    &.important
      background: image-url('wiki_styles/important.png') 4px 7px no-repeat #F0F8FF
      border: 1px solid #C1C8CF

    &.smallimportant
      background: image-url('wiki_styles/important_small.png') 4px 6px no-repeat #F0F8FF
      border: 1px solid #C1C8CF

    &.info
      background: image-url('wiki_styles/info.png') 4px 4px no-repeat #FFFFE0
      border: 1px solid #FFFF00

    &.smallinfo
      background: image-url('wiki_styles/info_small.png') 4px 4px no-repeat #FFFFE0
      border: 1px solid #FFFF00

    &.smalltip
      background: image-url('wiki_styles/tip_small.png') 4px 5px no-repeat #F5FFFA
      border: 1px solid #C7CFCA

    &.note
      background: image-url('wiki_styles/note.png') 6px 4px no-repeat #F5FFFA
      border: 1px solid #C7CFCA

    &.smallnote
      background: image-url('wiki_styles/note_small.png') 5px 4px no-repeat #F5FFFA
      border: 1px solid #C7CFCA

  .quick_info .label
    background: none
    color: #000
    font-weight: bold
    font-size: $wiki-default-font-size
