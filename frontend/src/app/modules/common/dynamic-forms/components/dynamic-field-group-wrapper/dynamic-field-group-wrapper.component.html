<fieldset
  class="form--fieldset -collapsible"
  [ngClass]="{'collapsed': to.collapsibleFieldGroupsCollapsed}"
  *ngIf="to?.collapsibleFieldGroups"
>
  <legend class="form--fieldset-legend">
    <button
      title="Show/hide"
      type="button"
      (click)="to.collapsibleFieldGroupsCollapsed = !to.collapsibleFieldGroupsCollapsed"
    >
      {{ to.label }}
    </button>
  </legend>

  <div 
    [ngStyle]="{
      'height': to.collapsibleFieldGroupsCollapsed ? 0 : 'auto',
      'visibility': to.collapsibleFieldGroupsCollapsed ? 'hidden' : 'visible',
      'overflow': to.collapsibleFieldGroupsCollapsed ? 'hidden' : 'visible'
    }"
  >
    <ng-container #fieldComponent></ng-container>
  </div>
</fieldset>

<ng-container *ngIf="!to?.collapsibleFieldGroups">
  <div>
    {{ to.label }}
  </div>

  <div>
    <ng-container #fieldComponent></ng-container>
  </div>
</ng-container>